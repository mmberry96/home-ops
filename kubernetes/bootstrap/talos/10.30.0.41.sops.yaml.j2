version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:0/vBpM9PFQ1HW9bH+92zkP00W7NVCEY=,iv:MrfBxSskm1GXMYik7+7pqz13evIwIKS2TekMq/tU5vw=,tag:vsmWwzK/7Mkrntqw4cGaXQ==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:3ZBFSdf1fD/++FZSnkDkPl4L1KHW30NPBqIKrRkstmScZYCcD7bsWO8zv1LjW3wdau14/Y3iyzzBTAlkQ8RprepPtDpr9SqdgrfQ3Cxm+tlEoDKY8lMeykB+/A6+BicDfzMUbKKmdgiSvfwqWXhCPmfIX0DOIbEo1MACv4yHIFCCSvxirbbptoNuQQb46Q5Ug/i5GOjpHRmOLQW87c1i4smi44BiyVrbUOma9ZGS+2gbhpW+wry1+JMrV9L7MN54NQKSEeoXNorNDzORbMCzGCsH3cyptSlBBvaB8dWGtZ7OYIcFTuK8ehgzV9IZZquEow733eGfT+bQz7zVFH/ko2KcG2wTk5LuvWoW3Y9IxCYk4qT6YDI9OVvi7GoddXg603vB4+w6IntF1ypCWQ5QFoNCKM/MUvTGWzNNQHNJZCKCEOHiYiWloR3LE0G5kUOvBq3e7yyksSVs4bLQz1v+Qe5/ANwR0KQAictwG4qWH1xKh80L9ERbDL0KF39v74bBmlJL9WZ+Si3amzuS2UksOxrsAApZCJ1KdgApxtvxqT7f8pW5cEC96dkwiDMeFaGG8GWtytLdHcBWboLgDCt+2m2utOLxpnpIKtPpOaHOYB9LsVsWzp1LfGwzyiJwUv4i7ZxPvt7S+eF/1TqoWzJx07ii5QdshrNMgownKfQpIsg4i7uOytbcElc5t/lV1CzSgvue+vvbwp575uzu5c8hljHtIhHTw3KLmg7F8oGPMC3WoOE4yRPenat9l1oaDnFxw0AUPB3bV4I99PNCMD70HnbriV3MndskfCwjU78KTfPFRx4F7IRNfVTDbsxr0P9p5GxwqDi8CJs7xQx/dYuHqKXdFI6BGVBM3kmt40SkHegNUnsx,iv:kmMFGbL4BW5NNxiOAjPnbCxxIb2BtAnP3OS+WcG2SoY=,tag:QoMxpmN03Lr9yU1HnkqNOA==,type:str]
    key: ENC[AES256_GCM,data:pLyAeuhyWj/JA4zLy+caPh4+lbkW8e3PqWUUUx/F3RsvdzNRiVfDP9EZ7qib2wc2WnQG9XkfxGy3iV11WlTmfkomJqvgllNuUMxUxqGbJDqhJxPzwjVg3BKIe2ZgwVChAjaxFicu/VtxEAl3Q9ko/cCMOXWFmzUpmcas+DxnyJSz1MOwzttXxbvxofCiUmCfQIbM57lwhazsFeEg3j7qOZZELlyuC/YLm2ovddzWG5bQa3NS,iv:pKxiDalaJmuunf1pu2eCBsZ3BhOpl6kcQbhkR1WWJjI=,tag:/8TDTi0XT/ndJF/raAWCwg==,type:str]
  certSANs: ["127.0.0.1", "10.30.0.40"]
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/openebs/local
        options: ["bind", "rshared", "rw"]
    defaultRuntimeSeccompProfileEnabled: true
    disableManifestsDirectory: true
    nodeIP:
      validSubnets: ["10.30.0.0/24"]
  network:
    hostname: anole01
    interfaces:
      - deviceSelector:
          hardwareAddr: a4:bb:6d:*
          driver: e1000e
        mtu: 9000
        dhcp: true
        vip:
          ip: 10.30.0.40
  install:
    diskSelector:
      model: KBG40ZNS256G NVMe KIOXIA 256GB
    extraKernelArgs:
      - i915.enable_guc=3                   # Comet Lake CPU / iGPU
      - apparmor=0                          # Less security, faster puter
      - init_on_alloc=0                     # Less security, faster puter
      - init_on_free=0                      # Less security, faster puter
      - intel_iommu=on                      # PCI Passthrough
      - iommu=pt                            # PCI Passthrough
      - mitigations=off                     # Less security, faster puter
      - security=none                       # Less security, faster puter
      - sysctl.kernel.kexec_load_disabled=1 # Comet Lake CPU / iGPU
      - talos.auditd.disabled=1             # Less security, faster puter
    # i915, intel-ucode
    image: factory.talos.dev/installer/4b3cd373a192c8469e859b7a0cfbed3ecc3577c4a2d346a37b0aeff9cd17cdb0:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    - # Spegel
      op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins."io.containerd.cri.v1.images"]
          discard_unpacked_layers = false
    - op: overwrite
      path: /etc/nfsmount.conf
      permissions: 0o644
      content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
  sysctls:
    fs.inotify.max_user_watches: 1048576   # Watchdog
    fs.inotify.max_user_instances: 8192    # Watchdog
    net.core.default_qdisc: fq             # 10Gb/s
    net.core.rmem_max: 67108864            # 10Gb/s | Cloudflared / QUIC
    net.core.wmem_max: 67108864            # 10Gb/s | Cloudflared / QUIC
    net.ipv4.tcp_congestion_control: bbr   # 10Gb/s
    net.ipv4.tcp_fastopen: 3               # Send and accept data in the opening SYN packet
    net.ipv4.tcp_mtu_probing: 1            # 10Gb/s | Jumbo frames
    net.ipv4.tcp_rmem: 4096 87380 33554432 # 10Gb/s
    net.ipv4.tcp_wmem: 4096 65536 33554432 # 10Gb/s
    net.ipv4.tcp_window_scaling: 1         # 10Gb/s
    vm.nr_hugepages: 1024                  # Hugepages
  sysfs:
    devices.system.cpu.intel_pstate.hwp_dynamic_boost: 1
    devices.system.cpu.cpu0.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu1.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu2.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu3.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu4.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu5.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu6.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu7.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu8.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu9.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu10.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu11.cpufreq.energy_performance_preference: balance_performance
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles: ["os:admin"]
      allowedKubernetesNamespaces: ["kube-system"]
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      resolveMemberNames: true
      forwardKubeDNSToHost: false
  udev:
    rules:
      - # Intel GPU
        SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  kernel:
    modules:
      - name: nbd
  nodeLabels:
    node.kubernetes.io/exclude-from-external-load-balancers: ""
    topology.kubernetes.io/region: main
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:kFALg/Poh/qKgAPCuKfu8mHLmIIc4RsTf3WlDTFvY5nGAZvkM4UiQb2uGH8=,iv:sOT0dTDdmFeB4VcDAOsCP6zFyWpacNGy5PEddWQTx1E=,tag:Jtde7KOl6uNS4AuA3olWhg==,type:str]
  secret: ENC[AES256_GCM,data:hEk/lJ0StgIXN5IBjv5oFuJKGQU6iDjeVN8QriyftulIIkzuFfUeJbaPANY=,iv:noWenGLlvb2duYrHQsSNMqsuVhZJciocHFa/WGHKbFU=,tag:NjOv8As8WD2ym1i8xc/dNA==,type:str]
  controlPlane:
    endpoint: https://10.30.0.40:6443
  clusterName: main
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets: ["10.244.0.0/16"]
    serviceSubnets: ["10.96.0.0/12"]
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:j+n5pGZiCjHfLUb52zVbxUe5fU7fTfk=,iv:fN5gJxvK7tl+QdV3jBIZU+2ITQDDGz9hplXv2AMh0ZE=,tag:+dgqQtV+eqjZmI/7gQXhtA==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:yAjRCvUDePYXjHbF0cOKHrt3rr3TtfUBdBEbRXeQdq/KRXrWWX0YsJO/wV8=,iv:R2Xp1wll84F5o5OFKRaTRDl2n0WH4cd7wk4Wcvt5laE=,tag:ZkFtGJdu0vRE8y0OE+Hqdw==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:Lk4MjPC7R1B7bjY9Epi2y2LLZ6TM8NSpirU3kOYnODBqvpuf3B05va+IKB/wROaRc2KhLNdXLICszU4w+EQOOBq1xnCvrs3tAuTTf7oUmMrRa7ZxieIhQYz773Ik09ACpGQ1l0CV8UdFtDIdaV9/YADtBuaEKS/uglXuX0MFJKPF9iwGBDlD/tSSX9UnL/VBSyMVrp1i/ibUnfxtWPdkSHuXKW4JXcDkzbMLNnEaaLo54w/B02k/Mz+D6St6iAXP2KN4M5tFxsp/U9jV2eiuRm2CBp7Az7+ZyL8WPvOLjTb1DTYCsTtRCkSGAstw9Cz338+esdSdnYjt+KvLeMZVWuzxV3lO5xBzo4Bz9hXzr5I1Ylpiz6HbRMUNBODRx56vixy+G59TWfLUO5icmsuu0/oh7l4d8B1xhZJlF/2r8zG5eVQzCGGjN9SHhCym+ZPas8GZEtL2f1825fCAT7p7PCUU+T04zpLR6VMToiYeX3CSk4xRoc3+UGmm9j7lNqbYwfQTwsmADO2kXUDxo/iqlwZcNsmQP2QkcnJ8BtJ1bAmS4kUfjBjob6xo5xY+jjDmAZmS4pPhrr96GOfkKQ+6Fpji/YHlHNPB4AUTysUK5qHwICZEvjMPtNrnxWQzj4PKQFCfzbEbcEQmTxcJKGJizacWKWxwEW4RnT05BSF3s3Hog7GnT1k6kBSdAe7A1fA6tbQM2RO730z6lyJCMkWN/9ASlyu6RnZVCcgscWdl2EhZSlH4W0CIKtnUxcgsorpGKoD9FV2fcM3G98oGRz69L/TdnCQSMiITIb3ySg1d6KGy0Q8Jpm7bO5jIU8bi11mJh+/xOJRN0mBbijG+KDFQXlLRnGEHHp+lkHgmPnJH+iFKfCKzRPF4dZ1CnyjCXc/LLuXQ9oy5bl2Ou3kmQSIMragrPYem5e6/1SAtK6LT7T1hvYMAQ13SoduUfkXoQE+P9+/XChQSwKqwAAYYOIyQaqHZM3fi7Z+vAvtyOUxIlmgG28Lx0YDQLemqpPLK68JcplCUzbeXke/bQdK2rFHJMFNulHSYoGvxKptJOQ==,iv:Myn/3eauQY5a8Z+8/YAJwhFv7ote5joP+mzvdoo2lm0=,tag:vXWQ8BPhSrzW2addjpLYHg==,type:str]
    key: ENC[AES256_GCM,data:1UoMf+nKQef3t5JbJjDANrfyXWx/RyCZy8pHpG++2deZNSjHETznCeQUb3v9rB6Y3dZwEs/7WWDzi3/6M4WQMo96nElhRoJLCZ5xj3V/u0MNCDj9qbm/fQj6pRM8HXU2R1IgyBn/AmRK8qn+TIlursGPy7Jau9wGJBq12zCrQotpNFwBHGT5ab+YRj8j9P/8LE3wBinIKNvQyGMTbU4ZRm4nwJpoKkXX0U2Qq+CjdaNMsGsezlX5U4+xEW4UjQply9AYj1BrqK9pdPRSvvzwvW+7zWh7bSYYi4qlF/icnZ9WoNlRy5ww3RILoY73D2TYBq1CveRBqLQBmwCY0fpbhpDBKOmbAem0pORKsiKAnH5Z2iWsn8ShmOzuppyBge35kUtomqiWA/hMNiTbavVEWw==,iv:UM8wm8joLMVt6UhfLzfEjPjNWl1UdU0lK/UkU0oeS6Q=,tag:zbJ2hoCIshIFXHoMCsVbOA==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:dVfEWRdSJVANTq6l/iAHbJLu8xd0P4FAoTgZffFTZq/0kOZAXzi8xymWx7QNE2S5KQ0qou5FkSpOiMXlOW81w10BtKSnG9VVjjAdiUSagJ1s/wl0MdmRGhbmTqSYYhxegiEExc+0y2LdrzXmdX9N8t2Bswm6HHL4Ixi0aMky3z6upTHzTAypA+QRCTYzVy/2VVo1WATWOivADcy8F5Rxd4cui8ydUla3JNuAj5RlknWVuaEDFvtXCgkZmQ/kBbuydiW2WyNSiKhlry/KsYOJQ0Vt4bjDOZQ8YZboVpjzYiWcQCMeyzcOPUt0CrxnX7RwqJ4bi0Lo73AzQHCAzLk24MaFlruilhS0mfDKQuCt1asJX2eEr2whhmT2rFiK2vAKjlxyOWKhytR2As08hI4SGyy2wA9JtRsJjM6s0xETPKMAovki8DTNKEOCgRMb0em/G7rNIYwR54Kgi6lji6VJ7aEPdLIrhRrcCH8pp7ngdPk4xK4t5lQFYAPgY0YVHKyCwUHcmjTgz/9JnjBSL/MmwRN+kYV5zljPv1Rd34dnQUVjRJPCIqCVtuaiWAF8TDBcKs6TxqIFbSfGT/HMJ1rPIoMjXHndbj+722XcPn1p6eCYyy2/kK3WpN7rQ5tEHGRKBbfQ9SRVIj9mAbI4JZeT5sfQfW3zUS88gGioipCTsW15x3PB0XQlbMmI/Vw54ns6VdqjSop+wxBjS9DXU4WqtKjA/BeEw1VUHvNvFO9lZk3ez8yNwKDuK6gHque5vBjQT7yoCB4w/sTeyAq73hrj3SptkQQkpaC1+OJRg2aX0BLJ9Tl4zalC6buWBtRW5vsiB5ZIWIGlVdGpr04UFxwvQsd/fTx1k/8H+5vPPCU/lW900UdKs3Z3rOi7i0d3kxBvnlM6zc1r93bj6t/tz6+nocnHAnulkzKuXyjBrqZL9zTNWAHSC4ietY6Ht8yuWUgE,iv:s3fvSBbsVCdcKkspJGDfBfzNs3L5kEpSPqdjz3v4Vqg=,tag:MBArcrjABB9AMxCvGDWPrQ==,type:str]
    key: ENC[AES256_GCM,data:4Zrh0U7DacFg9Di9NPF8eGT4V8NqPCQwP/uqcX3xsTUlB93FeY1zf3maV8Cz2UCZcCJRzwVsZ/hNVZ/YsQxB15e9OU+2+3dyI6FnQq9jg43b0+6OmtaasB/AHLlsQf8LEQDOlbl+gdECCFvVCUnQT8JS2iWLxmcY6yF2Nl9LgEtJNrEf9M51P707qP3PQx8Sc+Z5UImw3q4Qk3eg1Da5rC5B3EJt5BjPLBZOHTabkQzhIkStavcmFwVl2zkFl+N643YJ2HXw66EpzbFceUFc7Zz7PsnrxRMjEYEmU0I22hzJvKEDQ34AKwmweIjmNT+CuH0wxqSuSINMAJX70f5KDt0qMFyGmFZ3fQdlqt8twijZdx7N06zx5DMrnd8uZU292d9kRWJaVuI0EdAqVl1slQ==,iv:NIUyu0hKBRiW+U460jjUlKKdg1jgIurs8ZZhMerW1gg=,tag:lre9vh3BRc0tPyjFK+LqCg==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:Ouo0anSq+e+z/20ilCbRy7FOsBXA47VmYxIv88kZAvc=,tag:Or3fcnAfA1Fo9Nj37JSong==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    certSANs: ["127.0.0.1", "10.30.0.40"]
    disablePodSecurityPolicy: true
    admissionControl:
      - name: PodSecurity
        configuration:
          apiVersion: pod-security.admission.config.k8s.io/v1alpha1
          defaults:
            audit: restricted
            audit-version: latest
            enforce: baseline
            enforce-version: latest
            warn: restricted
            warn-version: latest
          exemptions:
            namespaces:
              - kube-system
            runtimeClasses: []
            usernames: []
          kind: PodSecurityConfiguration
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - schedulerName: default-scheduler
          plugins:
            score:
              disabled:
                - name: ImageLocality
          pluginConfig:
            - name: PodTopologySpread
              args:
                defaultingType: List
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: true
      service: {}
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:5gP9H+pX20thOslwT5Vyj0tWDEF6py0zNvkSc08QKliH17tZhWFXL17FKnbBTRU6NGnJZ9bCy2vqfmJz8jPWyaygk9m/YVtd9xhoF4xXrRXwWVA7H+MoEHjVFqRfiHcFYTNQhjsgMi38N7QxWWVVBdVOwX28APEeUK2VA74to7mhYym6cj02GNa/70jkHjxwAiyqEZFhgw2ElNaztVv/Ap18LC3SDxwT5cGzsxxU0C2hjmzz718PvY7c21qggjz/2l8BTLcDYcgUvVuPIMu+TxxsRuPWxuyiPOKjdAnjOsMVmVOlEXmQRXrlz78OkHUuF2lLjBG7mjsZ5EbIVZAcaBDTVJctbsRk85A0XFxcARIOZrvYIYhSL8ZQzIdeE0uVHPHVQPT3VgooggDRd3z4tQbzvONdpwlFIe74H444i1jtOMrc8C7BgJXQwc+Y/IjcRO3k0IOHGm6kko7ZrBwZSKGe+tW4Kr5MsuowdKZ6hamqWwq3u2shHZI6ryldRqdeRanzdm4zXVZY1k6FYgvho+KIS6sw8YgFqrLoW0k2YDQzsBwV9NIBK3SbEZ9vjEak307obZpbqFav552lWL/M/O9raGUMMHFLxFYrXSHnVUFlO2Zm9QASOp7yjoJ59a3zuzk3JEvoMfmK0HtJ8hQp+2anxvrSDE4qiLXp5CM+pL/+1fs0tymROWoKF8gOlsuS2AOR/d+pvaIOSjhi2aaP4Mlkudr5vOb2tMaOTtalVbCktUm6geUkN2uEHNNAcbpmwgSb0u4OUjsOqiKVjMtAwA2OM/694zYNr704LeZAI5oY/08gTz64edAShDZp5zVuXFFRrM+jR83nWYb2L5s9wGgww5/ydRhjS6bZJ4lvEAlyqRAFkOosNEAmKE5Cylklu9Suf63i43A92l3SdZMzwdOSNeSws1mt/7jHM9D7p0iesPQJ/d861THMxnSDTYNbUMRIYvkqSKorz8RnlCYtluVhv4zhx1LQUonxrGoUjzfrard5I+16+3EvmhYdUE0Q,iv:0x6O/ENfKqPBwrMZrbMkyHzeL2Yc/w9t3ScfX0LcN9M=,tag:4MB6/Uv5gwhUyWET6VUc6w==,type:str]
      key: ENC[AES256_GCM,data:N0jnUatwkNfq1OxvWhtKXn0/JfEzengkSfVczmaQO8yL5Eeev1P9+Bkf1I936PyJZ4kfkeejkU9O39R6E1w04v3e8FyOmGxXH52X092UM3vANue2iG0hxggjPWiRNEQG0HWpJW3P0p1DO+gmfP9MZs+taNYSbd+gNJpB+yGsdf6hskA5s9WhHXFwTimsP+JzLeBhgn99BIWGu26E9cjKFWoMmUCSFwHsWzcGmUoH5TWw1yl07dLFuzLluHLJiZQ9oACHtVSXaam5nl3z5BxTmd4EEA2twhhw8bMsSq/Htcyo6TlBs/O37WCEKVoLAM0T5rawViz7mCJevIpQ5XFc8i/1CVf5A4gzvrW04ncvceP0TOkHByycE84Xgu6SNS75d1sPSXBnDWp5NWd70vy9bA==,iv:El9B0GvQihXdzy+c4wRgApT97es16j5WAxkvePEAb64=,tag:pNcgtMhQj2udeTdlQC/mJw==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets: ["10.30.0.0/24"]
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1lz2u75apdq73zpxp039khxngs59jcca5ek8apc8c02eceg25asrq55u5dc
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBVZEd1UWxYUDRmWHlTcUhY
        eGJJVU5vRDMrYko4bjJJYmM3azNra1B1N240CmRGMTdvNGhLMFYzWHZRc3dNU0Jh
        UWVQZS9sdVhTdzdMMFpWWW1tRktMR2sKLS0tIDEwWlBkakkxcWRRLzZSSjBtNElP
        cHVOVFpYLzZuSlJHR0VxZVBVSXBFcW8KbUz30NSbfOtYKayuBFTI6oUj0wQQRXxR
        uDikqbx0tE2WQDRlZSPuP22Mf3iTNP+LPsmR2B/0u4syvyMPeY8RfA==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-01-27T05:24:53Z"
  mac: ENC[AES256_GCM,data:3FOOQhBOkJhW6ztqr4Yk+AtPp8c4EM/2Rhfcnh5HUZ8pde1wq0HnPhrHGdnTAG8VYmrieCf/kc2I6HOMnaEha67VGluHkCbdaL3ZatzNjeSfI9Hvl5A/IGZbwRsToxYjkxL7QEsYo3JSyqZDUehcVzT2eJi7w4JGNf2W01U8CmY=,iv:eIn8Z3leoI+e94+c20NwlSARcXVlu/1lMl7waF5dgFg=,tag:k3nhOLXSzZzYBw4YSswjFg==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  mac_only_encrypted: true
  version: 3.9.3
