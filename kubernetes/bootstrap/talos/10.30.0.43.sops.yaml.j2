version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:16zGvrkAG5BJgSi21JS5vvM5fGMKC2I=,iv:aYGcDn9xYg9/dCtVfUp/YaQX1DMIfvEbjfA+g/x98UM=,tag:6anuJ7PQD0nJoZBgnkPjcQ==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:zY76Ch+cjYmJKfZ5vCeqoLQarg0EZrX6dlXhnreC8C7ChXeCnVCRX9S/EG5clE4eByqNax95pL9NJZKayXZNUEPewXLI0G/Hs71hscALB5VG1iLJ5y0GrZcFsk9jf8AS4FULo54gqr7STmYRvaZaowY8Q4sIoS1OUjWF+4FArI1xcST0urNKi3kBFnz6dqpMqgytBQhxB+DLYYtVO1xGiyMdzj144IEBABYbjaXgzaOkRGQrh5hOM3sb+iYgfNzK4UQc8NrVhDSIqU7g9PcIIqV3fVU1lmXpAL9qpK8Lm+Si3SsozDrm6X1IKiubsr9cNKnX6wZB1DfqKyXbmU1cJ8YWSd13PRWlnrf/VJSes/1lOsYwUyjD56ALVb5BR0wnf/NlDuCO8SeP55uWineiwvfrpU2lXbmpftQ35CZIJRsE8Zi8ghN7fTLmwg78MbU4XGneLKeE6EMHtWvoR0/lu9yHp28abDhGCSP3GMQFmxlMEQjlItwWR6pHST9AumKmEgQZp+YmOWYCeWde4quC3ECBxBSe5W60lxrbveMUUF47khUZTbWOpjqgslmofsHfZiycNTHyffaCtiJx86e47FTA1NMvC4xS13A8Rrv8FNLgHx0LToYkQvtD/oCQDOVrKrx//bazChHX2LNveW/3f2800aKoYyx4GZXR0XGzh7rEzMF49EO19hJC8+v/4Y3mXqNaScla+NbyAHSAW7gF6v+yokd/OGOwqJ4FfraGBgThNGpusdwNpJX2Zc0WZAF/BZ261Ns4IzNDD/z14IzNtg7mVXh653lHKwiB4MnvsKzxgjKlILxLIIUirZUQ6holAnuRWt61ezpgBPInrpGgkZ4/B0gH8oIJ/eIl87u+agJS9pFi,iv:QJ07IEkeSA1ocikvCquX5tVRG0++ba9xe8CIguQjFno=,tag:ZkYWodF0TzsYsC/fnqO8YQ==,type:str]
    key: ENC[AES256_GCM,data:nX2cOZ99sUFk/hM1hseYgilkZ8pbfzAEn1gSeLOK4srHDj19z4qIKA08bC94mO+KB7j3G7w9aCHFm56raN1lMqJ/tEfdWzVshS3jCPoSdgZBfC0yLTQZmGe1nYV3Z9xfGR6+00zXqpo8/NBpL1ELSnrot9NTc1vccivNVnPeNAuI2D3UM169JD5pYFVePW/ugwzqLgoYygq7BHJgLEZm3mygNV+KsVmUkJVX6482nq1z/HvF,iv:2CaQSYlwiOHJt+Hjy6GT9ekyLBB51voVDr7HkSJ+7qg=,tag:kGjjRW00xdOkj+n65UbkGg==,type:str]
  certSANs: ["127.0.0.1", "10.30.0.40"]
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/openebs/local
        options: ["bind", "rshared", "rw"]
    defaultRuntimeSeccompProfileEnabled: true
    disableManifestsDirectory: true
    nodeIP:
      validSubnets: ["10.30.0.0/24"]
  network:
    hostname: anole03
    interfaces:
      - deviceSelector:
          hardwareAddr: a4:bb:6d:*
          driver: e1000e
        mtu: 9000
        dhcp: true
        vip:
          ip: 10.30.0.40
  install:
    diskSelector:
      model: KBG40ZNS256G NVMe KIOXIA 256GB
    extraKernelArgs:
      - i915.enable_guc=3                   # Comet Lake CPU / iGPU
      - apparmor=0                          # Less security, faster puter
      - init_on_alloc=0                     # Less security, faster puter
      - init_on_free=0                      # Less security, faster puter
      - intel_iommu=on                      # PCI Passthrough
      - iommu=pt                            # PCI Passthrough
      - mitigations=off                     # Less security, faster puter
      - security=none                       # Less security, faster puter
      - sysctl.kernel.kexec_load_disabled=1 # Comet Lake CPU / iGPU
      - talos.auditd.disabled=1             # Less security, faster puter
    # i915, intel-ucode
    image: factory.talos.dev/installer/4b3cd373a192c8469e859b7a0cfbed3ecc3577c4a2d346a37b0aeff9cd17cdb0:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    - # Spegel
      op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins."io.containerd.cri.v1.images"]
          discard_unpacked_layers = false
    - op: overwrite
      path: /etc/nfsmount.conf
      permissions: 0o644
      content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
  sysctls:
    fs.inotify.max_user_watches: 1048576   # Watchdog
    fs.inotify.max_user_instances: 8192    # Watchdog
    net.core.default_qdisc: fq             # 10Gb/s
    net.core.rmem_max: 67108864            # 10Gb/s | Cloudflared / QUIC
    net.core.wmem_max: 67108864            # 10Gb/s | Cloudflared / QUIC
    net.ipv4.tcp_congestion_control: bbr   # 10Gb/s
    net.ipv4.tcp_fastopen: 3               # Send and accept data in the opening SYN packet
    net.ipv4.tcp_mtu_probing: 1            # 10Gb/s | Jumbo frames
    net.ipv4.tcp_rmem: 4096 87380 33554432 # 10Gb/s
    net.ipv4.tcp_wmem: 4096 65536 33554432 # 10Gb/s
    net.ipv4.tcp_window_scaling: 1         # 10Gb/s
    vm.nr_hugepages: 1024                  # Hugepages
  sysfs:
    devices.system.cpu.intel_pstate.hwp_dynamic_boost: 1
    devices.system.cpu.cpu0.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu1.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu2.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu3.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu4.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu5.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu6.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu7.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu8.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu9.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu10.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu11.cpufreq.energy_performance_preference: balance_performance
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles: ["os:admin"]
      allowedKubernetesNamespaces: ["kube-system"]
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      resolveMemberNames: true
      forwardKubeDNSToHost: false
  udev:
    rules:
      - # Intel GPU
        SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  kernel:
    modules:
      - name: nbd
  nodeLabels:
    node.kubernetes.io/exclude-from-external-load-balancers: ""
    topology.kubernetes.io/region: main
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:l8tNCvtdaUcMUcqq+c+rvl2tQtrGLJCWFSxfJubos9KMtN6vmbZezwnGD04=,iv:j2UvixxFEVgcqPFiMy9KPwa57K/947WIr7UIpDQS8g0=,tag:oLDYRQiyfxSiZNjaLY8lLA==,type:str]
  secret: ENC[AES256_GCM,data:5Unn1awTpSyyTcAHz7cTs0y1Rexc0XaZzFzvMvr+qSlq69g/c9PqX0Nx9jw=,iv:aD8zxuUuwcgvpDYTEiMXVi6DT9d6XtJAlay2hIAZ2FA=,tag:0gLNHZ7qwvf6D4QczG+sIQ==,type:str]
  controlPlane:
    endpoint: https://10.30.0.40:6443
  clusterName: main
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets: ["10.244.0.0/16"]
    serviceSubnets: ["10.96.0.0/12"]
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:UN1A6QpUoljh04ePRNDzXRnNIU8oPzQ=,iv:ygUPhFG0OBY5hERmU0j6ixUjGfngTDmDpLAlSWoNCG4=,tag:2Kz/yfRy4qKpzRFKIPAGhw==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:glV60V1pfUBH7/ebjkqwhA6bBvoALoIaSEOaXNZZrgkYDemxhoqYTfN0UYY=,iv:zpO1k2aFWz/38uf0JkMxtvGtKsOIQ2piFRIrSwlsDJY=,tag:/uzl0Qfxax0Rx3z4ueAjyQ==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:gaBxBU8jhU/EFbJmIDl0Ll+H90dnu1/rvbQ3GaRvuE1BZ7uAH45dclMqzoTRJQTTmUgJXp7P3RGUrL41rKsK+m7Zj0vTkL82SCWUYD/8TI4+db2WNOyXZnjrKqpBNobn2WeQn2mHjh+mOVVsFZ+EnaK/t+P856yqP+M2lW1b6d58NNaIKCQWxVvsSXqxn8TJz9LZ55QW8EfAcXU06x4S44VF53Z6uVRaq0R0VZMERaS1KRPXOKNWZ3YcLg0mauMxO/E1vzn3kOphTdco9paEAdaGQ2kHhfcW7C++lwrbvvEfYOMukwFZ4Fs9nR6HfxdkbfS+y44x4rlI3vXUXD36+MTUYqdALcwCgA0kb0Dqpl8QlaU0OUlw3NuYRrRZv1tdU/rzYrY2Q4Nm++JJEqa7rnrQtLJsc626cLnUFm0QC+Mai10vFdGyzRr0IAg3Nsf2o993LuyLKnJHBM3HCaTbdKjWcMzor4KxSj3UkpH7bgODxegAojSg5gBUExqyrkcSyaBjSzP6yLfel8N8Dh6Cvgk/J8JB8fqBxXRbOr8kqbqPxkfTDpiB3YDhFHktksdL3UV59OzboA8mFEOlmKdBxa+dNSy2X1SOHbnrSUakWDK9Y9NStQGmPO09lKSvKBbtxT0BsvriZlkG0hPuWkINXCwmhNkyfygRyD8x66jZVli4sNML9xtSL03QU1mHlo5/0lFvfpuvwal516QQjqkj0IORYB5BrtKWNysYPLMqvZx0M3nZZHr6aGxJhI/zd6GhId79RdLjaNrYtLxhPlUosgDB6yPRLyCj0YDkHeCd9ktZdjrhd+It3eEFwCDigTVw+ENAhu95aAAkb5PkwcjESBdt5rmtzldKjZDnWWYX0sVpx8hr591rCuMXtHIicZX+sIg4tQQI1Hxcr8vhrjl/LSa8C2CQPdUUJJ6+gE2G2eXHcCIN8v8iSjhivCpf3cPjyq3dT6mGkbEwhmeLWpBAliW1ZaOEVrlMOnZfwM66S9EqbKnoqHUpEXmErleo6jZLvX5SExtGF2iWw+aqx+oYjP/P4YXLmDa8LCE2tw==,iv:qr+Gjf+xvEEtq7XFUXcPhzVBByv3x5JJyWiBv+h0qn4=,tag:8XQUIeuEVaMWC0hvq6HJVg==,type:str]
    key: ENC[AES256_GCM,data:H8neOoSS2cKwmccFCqUna/sVtTrkjpxBXzG7Ir6LshQYH1Bxj5npUG3fynT4CUmfyhzJK6BWoue0rPtIg7t4F1luYFOZ7M9F32udJ56KHD5OLOr56ZNYlMfgicJag4BpxsM46LaRNj31KDKnZWs3bBYgprbqgtJme+qgUkL7toU/pMvmoCnc5Yy0B4M6+uvS1T50yL0aO+KLj4gWMGfDS1fB3GFVa1hdXcs8mjaPKkb+BwbqB2BrO7pE0oWPpjG7fJVrmRxyxVk4B4L+OcCQCtKiHGU5lJzYL4/5SW9A6gESR9ojTDL3vPjtEa6zn14j61XReH2v7dE7YChhdGNXhLP7OVKZCYeuw9AqWi6KkT4DE5yKA7rPSFlmGeMPwVs/3KiUqe6gATotxpOxqxbQ+w==,iv:Yc3ZEDgH7H1I6cFfZy4Uts1cHMsFZm5V8ZYFPk5t8AI=,tag:voTTaWRHSoqQYoyYuIUdQg==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:87z1c24Kkq7bFvlmMgjqXnPebpOwPrRN9hNpqBcy00jTG7UJwe1NhuCvh/VoPgSk7dJsIjpKWyFS3DdkHheV7nljGjtLB/tsqTu4u7D8XpQuUiWkcBlTwG4c00DKlb9zpfVsEb56VM0JAcJkNJKTNZcky54ayRwNWZ3FUYxcVn4LIIHrtG+4RJJTTH4bUUakWfsbOZtdVVj5RG3rznYOhNKwg3keEXXgh2zWzEv5jwnJPFjbC++GhIuVrRRJMyQ5BsVEjfmfebblFLqqJs5bZGvR2e+WKA8hm3HhpeqCxONE1DbJ7LeTYeH7AXdI9wYdC1H1qlVQbxwfulk5V9C0SQtuR9no8s8K0iY2pWY+J86PCYuzsKkUKMZuPAfAtnmHotqb0SDlNwtkI+2yLDKEmbzrfUO2mkJ2zOyyfmdUYxdah1m/efIwpuzuDyc0wDJeU5c1IOb0gnEsVvl77pr0I02Lm0DEa7TjbMlpo+zyF9fo7yRbDBZFrHgthWWf2FqyrRqOA65+Ro3LMV0lx8zOp8DDE6LsAZ3/SQHjupKSZC93lrTFkjnQuAMXYHYsdOIVi3rNSLuGxYAJyMntXwkvse6yCSGixqvl3VLbKW46aYaLxgwdT69bsZ8ONp4EVSfoZJkXbmBMRJfxxhxaPeC21tlFU9O18b2krX0MwQPHsPxhya/LZ1WeKjVSg9s1LH6uEGVwsk795vHmIYDBgYnuZBF3MmfQ89QKIiUvGmHjKIV6hjfM3W4N0XxUxauTPGyvvaPqKWUB0bCuTWG1CbEhfo0QeEklJ2CPagHat1TU7yRBht2NblDGH8Y1pl8hBv0kFkgopNP+G/v5FPO2aw2JH9B0jI4he1jpCzyTaiOGQstiml7kyg1SqF93Wkx5ANx5RXNKtrO25LcfSZByCf1jNyhIsQhPFoiE3WB64Rmsu/I7/4lxRc7p1cp/wicZjevP,iv:EIOxlxk2qQDs/jLt3xXPqzL8Oh1P1QxFbLcPQ68M7Tg=,tag:nBTgUJlKdHttO62G/J2igQ==,type:str]
    key: ENC[AES256_GCM,data:fNIHB1r8J2NHKYkwe9hJ27kUTBRc1QfQVKXXFGr3yLbiGKZiSrZ12XtTvSphx6eh8Ymlom0WVRgYyJquFPkRNekDxPEHth+Hu6a1hB08GBJZ2WJnbku/c1fP1klK5IelTV0ielb1frvoTVM0SJFnaR/E/F7GHme6jUmoVeV2oQifDWTGR7T3Rn7ASv0nOVZ4xEWwuaA8JObQ4vr4WFCy4HN9veJUose7Zl6tbQdgE3bXrWETEr3ZvKpk9JKpkEkWDa/URvOumXlVaNWRVpKEZFRgdHOiPiZRAxoxBX0kd/59MSxmrfHhe0210AC6rRSq5gMTn25rJONwrNtUWkXGlYV2RGF/Q08UkEAXrx3234nSkWMJ0knDdkf1qd+tPanrNJ/J0TaFvKm4oF9whHDF7Q==,iv:uieW0kUd4WkkEBCi3o1piQKm6QnbwROQ1Nz1kSEwUjM=,tag:9ay3bs9xbW/+1B+xKwXZnA==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:0Y2PEGw3zO/M244RJGVVtXsyyu5QV5/Oz5L7lX+Vnuw=,tag:7Klz2it2Gr0udCFgRry1+g==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    certSANs: ["127.0.0.1", "10.30.0.40"]
    disablePodSecurityPolicy: true
    admissionControl:
      - name: PodSecurity
        configuration:
          apiVersion: pod-security.admission.config.k8s.io/v1alpha1
          defaults:
            audit: restricted
            audit-version: latest
            enforce: baseline
            enforce-version: latest
            warn: restricted
            warn-version: latest
          exemptions:
            namespaces:
              - kube-system
            runtimeClasses: []
            usernames: []
          kind: PodSecurityConfiguration
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - schedulerName: default-scheduler
          plugins:
            score:
              disabled:
                - name: ImageLocality
          pluginConfig:
            - name: PodTopologySpread
              args:
                defaultingType: List
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: true
      service: {}
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:2m0IqSSMTzysXY7Qxt/rWIKmG3omDOHlZZScFTLy+/WEYb90HdbSyql9BG2uUrXCt1rAXdBFweqIx7sc3enjvzAUiVgBuIlkf962y3Kiz+8CT4NnY9DxiLOsaPK8mtviQlgEI8l1mJ8p0wW4T8RtG+59Dn7I+R2rufoiqzb832nAYJ8CDUvmKro6ElyMl4JdkspY/jwxnxRiuy2VgUdlO2RhPxXmATLPffyC+cRP1AiTC7C0t/iDREmk67np05E2hBpMN5CBYOdQCu0po4thFhEOWdVyG3tgrqVE8CkYa6SzRPcRKnoLEBc494htslz+mJS8SjEiEWqa4kOKhudNH20LCGA4NVsv6PdnGgHcU2BSwLCwlcPGtqc7u1qChKK7rMN8wgj86T3AF6Cwh/P7wplqYhq0jMc+dg8RE+E35J46/K4Z8OvQ7ncLs7eGNIRc/ExFfNsBJX+F/VSj9CJD/ZvFZGYaiAMFEU6QzOtQz7s1H2UWF0spVeklikXL2vIw4/NPfYQzWP/wTZYqjFMqnFHaIl0iIHOEfpwqQEOfpMsY+5cofxj2I1OaYxsIenfp9jT4ksZdIUsgOkbXn00EdvPHYCiDDfPrw9MzN7rag4P2qRKMr+5uO99Xl0Fq/q7F5yXJUwiI/dNWHGemqTUZK6eZa1Kx8uMOiT/A1yYhMfbN/rsnAt7bBgWPquFkerVhgBV+wy4NI0J1Dp3GKOh8lu4kusEbEcnbie9yTzNpwm7fRvbXqJOY5ktiShR5n4YnDGlyoMd44VCBsuSmn9b1tIETZVvfT9TJe5t6yG1UWVdlWgg25qjBraW4QJf+qkpswerWRHG+5ORBBnT/scH8fvzfRSDQIX5C9BMExtPYtJK3mtpU7FWoA5vcGXhDhwtrFMSkyk6MWdQKQbN5dv0oYw1ZW27oktLqfOddeJLyY9T/2xnlAB+a/DhJ0DCMZUjlHkibOWfrPyCVdbiYvHTA7exs9tjYMJHOb8ueqp5rZHEciJsHO8OsFigDw+FSLBnJ,iv:3aSUaiJ8FG3rZ8M3hFHSIgDn/TpGMh+1Da7+P8zvN0g=,tag:zxH8QfenBMCKvXdtSy5qNA==,type:str]
      key: ENC[AES256_GCM,data:F/Q8898yYJ/3jDmGsHdLe+HjUxP+g03iA+wxcczXAoCQajjNqo6yyxswCp7QgmY3m/QdztjNuvzyj4Wp6BKvGAccAN0yFL51KH9MChblpJwYa/mjhs58bceiBSMAsEsajAxyOfsF1L+Kr480LZWqn19ArDf0yK73M8BruqqDzQoItlqGCbIWXxkBLvusrlJ40ngg6Xh8krr5UDtMQ2PfwvodjwRfDoR40X786hiRqw60BlZiSW+4djwr4kwaV+W2WHVrQ5K/Kjl9m5tRgdJpAsQL9XaMzRaK97DZDIalIQLN0WPz/x5NLlT0edlXNw7UnSdqI0TydolQaqFFzeVjOpk2n++A9hG0ZqW9G04AnrbzhLuoLq0g5PVOrJRLkgLIBDfg9iE1BBXksO98KiCu3Q==,iv:vw2JsRqsTQh17Xpc4yYhV8gVbJuK+rAroQdJz8xjOjQ=,tag:fPlTqLAszfb05Hgl/Uu2vQ==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets: ["10.30.0.0/24"]
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1lz2u75apdq73zpxp039khxngs59jcca5ek8apc8c02eceg25asrq55u5dc
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSB4aUdySkpyOHRtdUdaOHp1
        SmJPVEpqdzBMNzBaV3hLV3hDVTB3VTBTL1ZnCnFjdllPRUd3bUNFcU1KUk52TEsv
        b0pEWnNmTGIzQlRZM25FYWhIUk1aN1kKLS0tIFNjc3BXdVE3S1NPTkVpL1dONUpv
        S2F2SlVwZE1BQ1pvMG5sM0diakl5UmcKBedNfcZcLt41k8/HWFiMFf6BLXP1OEAz
        R16KYIit3mcaIr5CmoaVr/spwsdDoib0n2Qh5k6TIwgVqx9qPPsbKA==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-01-27T05:25:18Z"
  mac: ENC[AES256_GCM,data:Nezna+eSS0X6l0oEBskrcYH87wzbWhHR3a7syleJXd9PnXtQsK9+B1LmlELFxeKGkT+lShOgBJg3nwHg+pjVlDbQOugXsmYdDkJNnipK2OVkW/IOplCTBCpGtkpUIMzOmCQYk0ASKnA6E+Qd/w+s9tfaVXCbpYOkoyCePzgju+c=,iv:uL6h/dZE74PRAeOdm2sYy5fZ8A0oWK9mMMSFvWli+Mk=,tag:d8xYH8A8qcVjrQCxCepfcQ==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  mac_only_encrypted: true
  version: 3.9.3
