version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:kN1MGRxGJxMHgo0+uIWyfwPek8HgyU8=,iv:wFMdyHSuxY3oYI3K7HMzopSb3qUvcSw0WFN/RTH7h/4=,tag:vMiE45ojJWcUGRw2DQDdpg==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:Lv8yddjFiNFbkEByfkfpbw2V03Ldo0vPk1EqtqUjx8eiQOJHJIvSSIe2DdclMoNkH6ENHQMmzDWFUifmP6TQNq2Dj7VREWyzb1W4vgztaMvOHd3f3phM6xaEn2wql3Xx2Tm7jXunC/gjNyursDEz0msI+GDWsUhNg/ovTnxPpaMK9DQmslVczQVXlT6ablNl4hPmn2SL0edR0fUXG5zpC1jt77t02L2FlPNY6RfYCu9ZNqW4weeDAQ4SS2lXJIXmhp3X/4O9DNyS7fIIfVco95HETpPSYExv2pj2rdugnvybcDnIR3YrmEWctnk02lWWjmvjQmQl7a7O/GjXmqLCSn+djedMchIkto6a4a5IfkKIT9Rb1/2J1g3oZo+eSgIhvVyziN1h4v6px8YZb7l1iffpCD5DWAu1h42+Vy9lwAuruyLf+VODsSTrf4xBam0ERhXbRuXXIx227bFjeiHOpusHZd8QoDGCzfHtsuDOtls5f1i2J1Bielun50nqBfwdg+giL/t64ZUlcSejgrazDjiOhi/SvLy5hVlGR9jCLq+BOcS8MNUxUA71AGxwuBgybqLDilSZHzYTUGYZ4DJXiPGU5ReSAbZxYiASXDkEinFkWgOJDDL/sCvsUhotRCnzlGeNJWwG9Zok+Ob5+aLqK0oMlyT8XzcGPg98t5cOliCM0ph/pQg83FbrWXWTtjYGZdehAaJK6GbicilzfgWJZ22fYryOzYT8Xldl/lzD7RvXAZjO/qoynDf7ykvRL4irwwrEaxGlHF9LgxW1DlcgS074a9/Yn0jKg0aPJsiHEnb+bthLpL25uC34gOVFGWtqVfkOC+jYsyqaghqfKCBAwrnMA2EQnnnCh1opCWT6An5mcr1y,iv:y757ARIBPAxVZsQBb43Ws+FIAcm61XqvX+KDUzEW3W0=,tag:74TdRV8ORTanC1V7m/Eptg==,type:str]
    key: ENC[AES256_GCM,data:xPqU2ZBFyAnjlDAKqBF1wOa+cmueJueZC70MRuySwI4zCuLLq02fafsXO9fAeqA/EAXlmmHzDtB7yK32sceKSNVqEcKeQDlxNz6b5EQkAftFgSi+Y1+v3BmWyZ0ZGe/DXzHNwcnhHjFEm6K/FJQ3S/Y7JxKIWYXCgP7ffljbt3gUbgGOpMAzojOcJf9PoNJcIGwGcrNSTriTHOul+EIoKuPgEW1koTloM7x8zP2mqMTapG0k,iv:AOVX5T55cDNxzibNDosDOurEnEhlzaYSe6J1QVk2bWg=,tag:WL1Vy5WZ+MLkEkxTHkeS4Q==,type:str]
  certSANs: ["127.0.0.1", "10.30.0.40"]
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/openebs/local
        options: ["bind", "rshared", "rw"]
    defaultRuntimeSeccompProfileEnabled: true
    disableManifestsDirectory: true
    nodeIP:
      validSubnets: ["10.30.0.0/24"]
  network:
    hostname: anole02
    interfaces:
      - deviceSelector:
          hardwareAddr: a4:bb:6d:*
          driver: e1000e
        mtu: 9000
        dhcp: true
        vip:
          ip: 10.30.0.40
  install:
    diskSelector:
      model: KBG40ZNS256G NVMe KIOXIA 256GB
    extraKernelArgs:
      - i915.enable_guc=3                   # Comet Lake CPU / iGPU
      - apparmor=0                          # Less security, faster puter
      - init_on_alloc=0                     # Less security, faster puter
      - init_on_free=0                      # Less security, faster puter
      - intel_iommu=on                      # PCI Passthrough
      - iommu=pt                            # PCI Passthrough
      - mitigations=off                     # Less security, faster puter
      - security=none                       # Less security, faster puter
      - sysctl.kernel.kexec_load_disabled=1 # Comet Lake CPU / iGPU
      - talos.auditd.disabled=1             # Less security, faster puter
    # i915, intel-ucode
    image: factory.talos.dev/installer/4b3cd373a192c8469e859b7a0cfbed3ecc3577c4a2d346a37b0aeff9cd17cdb0:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    - # Spegel
      op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins."io.containerd.cri.v1.images"]
          discard_unpacked_layers = false
    - op: overwrite
      path: /etc/nfsmount.conf
      permissions: 0o644
      content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
  sysctls:
    fs.inotify.max_user_watches: 1048576   # Watchdog
    fs.inotify.max_user_instances: 8192    # Watchdog
    net.core.default_qdisc: fq             # 10Gb/s
    net.core.rmem_max: 67108864            # 10Gb/s | Cloudflared / QUIC
    net.core.wmem_max: 67108864            # 10Gb/s | Cloudflared / QUIC
    net.ipv4.tcp_congestion_control: bbr   # 10Gb/s
    net.ipv4.tcp_fastopen: 3               # Send and accept data in the opening SYN packet
    net.ipv4.tcp_mtu_probing: 1            # 10Gb/s | Jumbo frames
    net.ipv4.tcp_rmem: 4096 87380 33554432 # 10Gb/s
    net.ipv4.tcp_wmem: 4096 65536 33554432 # 10Gb/s
    net.ipv4.tcp_window_scaling: 1         # 10Gb/s
    vm.nr_hugepages: 1024                  # Hugepages
  sysfs:
    devices.system.cpu.intel_pstate.hwp_dynamic_boost: 1
    devices.system.cpu.cpu0.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu1.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu2.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu3.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu4.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu5.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu6.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu7.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu8.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu9.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu10.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu11.cpufreq.energy_performance_preference: balance_performance
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles: ["os:admin"]
      allowedKubernetesNamespaces: ["kube-system"]
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      resolveMemberNames: true
      forwardKubeDNSToHost: false
  udev:
    rules:
      - # Intel GPU
        SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  kernel:
    modules:
      - name: nbd
  nodeLabels:
    node.kubernetes.io/exclude-from-external-load-balancers: ""
    topology.kubernetes.io/region: main
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:tIDQr7KziISJxbM48uX9tnHskhMs78ux2H/Bz+VGezQfLzOz07q8GA+KpTo=,iv:gKf+veM/slpq/w0VWhEy6uYYHYODRoV830IJhKmnidY=,tag:fCeqQQeNp+TuW/kqgajieg==,type:str]
  secret: ENC[AES256_GCM,data:KYECm9XFYOBV444xaxWdAINHFCoyPbbUPHC/n8nnk3zPmo4OsNcxL/wA8L4=,iv:OeadLbXz8c8yce0Z/4iqQbhzrpn9v5uHd5uZmam+dSM=,tag:a80GgE3VBQflwy2EVEd+7g==,type:str]
  controlPlane:
    endpoint: https://10.30.0.40:6443
  clusterName: main
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets: ["10.244.0.0/16"]
    serviceSubnets: ["10.96.0.0/12"]
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:HxqBvaMW+DPilDYrdpEPtHYi8HMMll8=,iv:5efIkQg4RHZerG+p4owOtoQmHnJiyP91sHVHz2bprvE=,tag:m9n2NCmN6Z0NWvh8q9/G7w==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:Dr1KIeom2oU/nmI+fBVP8oAYh3QxkGEKKvued7Ztfpn/Vf5g/kyFA68byp8=,iv:SA58q1qYaZFMij6TLiL2HjqfrTiGlq0ys1zyXXfgutw=,tag:59ltFI/YZYDyo930RA1TeA==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:YPuqorxZRouDwUETXqyYyy0ZnC1cE0CBYhLOhMUG8wTO3CDUQvSRtrkQHQ3GBjFLVDYrH5Oj1ZI54Y5jiEhE55PPG781/vF0NieNUdnSFo95DWJT3esK3gULQ/UxFyOYpSnQw8ANv9qVojJNatRy7JX0V5U92XkOowGtzfx450E2S1Zqr8Nu3k3ztRtJ5yVtt1EQociIhHvTiiOWh0iNO8G7rtMmbkeWV840N+f54nnOuFSnfOjs/ftv44h+qDpjQnIIBiHhJDhq0V9Kck01x7pk2Z2OeW2NiL2RkAQDAPtnSpuuchhuIglddKLf8uJJuFIHJAhcDD7cKNSV0+k34UDe7VhvxYrywzmvTmuCp+0uCnxJO5kHaU8TT5ie2c5A5a7hdxM9G3hmCiyzRaUOLTM0fliWw+EOY+mK0KGLDgLwJYhIrl7/+oj6BzxueyrjGYogezVAGmY4oacC534xykRkXy80myjVwFeRAmPbuUarDDEgpbIRNsCgzkCxpp3roxRYF/gpt1hs6kfm9pT57iBriBRv4J/exX5Lm1eueu74Nd2rofAqcPGsVoLIufrOx+fHp4IjStu9sYCjWwv4bzAnquCidBd5IDN3f1mWap6RHgwO6h2reV/CisBNgP00e2gWUIIONI+hLfAFTjuthXW9/Jxz+Kq/o7QB01LLccCLz/EL5OALkdmdDEBIy7P8fRnVeNZYEEPGob01jlyDrEbB76xOZDfEbg7FVdzTaM2wrSr2UnfmFfGB6qDQHt68hTdju3OdsNslYglnZJ7xlWs0dFhXQ/Ii4qh/nb/itqhYHuLHtgu/lMZMpBrcMh1bqkZN228+l9QDAt1K9crLujctmTd2r/kl37Iqr9iY1M6leJ298ISsXVUttz+ty1XqgDspCbt/pZXj4pKMWHsrxavIJ6ZQPh8iDQ0nvgZE246Eci93svhBMD/d3q4TrLfEdX12ItmW5eWlaUcYtyHhzh+oVuWmJGk4ol9KHnek09cKp0tIdR7JNrJ0+71Nj3LPRGAdr+Sn7DUm3QYS8dsMXo1kOmbG7K8Xawonjw==,iv:H6o+sGHZ5qV88RdSPCplhF1MhlU9kcIrM2mjXRQ1Crw=,tag:4gHLmP/Fc2sSNVja7AqWHw==,type:str]
    key: ENC[AES256_GCM,data:JZUQfy9RCXxkZq0IkgTSQjuiH3wPBZMk/xrkVI7s/0d3+H7nv4cO+uDrh0+8kY1d3kURRrlNrR4rCdzgLU+mHS7g8tgzgfjRCCkZZHlHXGT2yCqT5rJXtIZ8d0x168aj5oWrLHnzM07VUrvgiQCARhTvu2lref09Yc0EJ6udc5xMy2kH3pY+8Bhl0viJiX1AsF2Ku9QOlEvz2V4fWboepokh2JvihAkenOeAY4xJy0Eai7H+oXAWot8ZdUC0sGd4wwxEBs7RH9pV7ZIghlsKL0Jl7OOQxpnV0gR9uRa0dSpP2ZU5kHssQOiP/n2eji8Up46OcF7BuWXyD/BH4IB7lNze4tGKSI2uUUtMQvaAQlLHLnc6wMafgw88CT69J3uGdfnrlTkA71eQ5fx641/bbQ==,iv:cB733grN+50ysWxM63Te1QEyEO2/qu3x6n1exDvgxr8=,tag:7y+yyBTv2Rb6aB8uRM63og==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:8OIw5KJCiDpzv585kp1ZEy448BfTwzNs5SkAklVltjCCdOeF2GRQrFGiZwcVx4DJAhiqNxmEA06xX/kwP3YN24vXlR6X1dwtWtnHUliQmUBBgR2wifmz99S7Pzo0Dfnr6N0L91LoWBQC0h01aa1Y851qhFF5U7gdRuLSaLDr5g8xG+5rYE8wMFTuRIxZBClSfUOh5zaK7Jvldfi+cDOxG/QPcG7wB1VFscCM0xaKuReo3hwAnRFxrRnBafFi64UqB/GSYa755rZm1A/hpHC54LEoQS3P6HwoIen627rW0yzD2nz/ySWzklpHyIwc3mrxTqD2d0UVAbJ/X+osUBpHnSpYNvepFUkTrPn/dLO1PLbDlw6IrI4sVtkNAsnnjgZ6ruxkuVXWzifCd/x5zPRVotPVfJntdUb6O/OXW40jMYhI2PF8tvlrq0EH5vRP/IvqKMcSu7kTy/RIIfjgqil4Ko20RVqVkXqWJRl+bI9ii1VJ4vNomR7KDEghH/pjt9wpsCo6hUniLLc3nb5D+d8ZYRTDvfZKQPTnZgO+iBFZ5kZCJRZ6SuNMMjhAwa/PomYvaRhTE5qDezveW9GmN2bxLDCWPLRBUiYYuwF/fZ//B2s8fUXqGy689/GrOZd3zo84422oiuVdHH2YYHieHNqK3GiDhzHo28JrKnmuBDLcj0R1EyRfH9bTWeEeos89rOikACXJsSyCHpZFsUSVwgLuoF5W/H8Ym95lBhDLoEFaBsJkOiQSuoNAbzz/VbtSFhYQm3BXugLdm9LgHBQkvFmqW0qR2pi6MUynji9t8TFBUKNA40x9OSQNIGDKBHTMgnhgBnJExHHyCKFoeZJqXxuQARpFCW/CuRN/E4CzCboKXMPRgt1QgyD+uml27PsPmuCy1i+qDmdc4WBaTucSdMjpa06+0FRFjtnv8vfVJEvI/4+Z4S4fXdLMb4HONWla4j3S,iv:G9l8F9HaQln8SuyjkqbWthffFhM0oriCBMnT/0ta+rU=,tag:TW24W9cj4mnewnFlqPZ+PA==,type:str]
    key: ENC[AES256_GCM,data:HLgDBonWM3W1GRnlNnfC64ScQw0mtSxO9POzfbFo0n7FdWsyP19ySbwWxsH6KNuxVlrhYJ2RXHrx/lxxE5NRzw8SrlFhdQPIHtR6XbbA6m4BU4GnnmjCNlp2XsjBFwSwsYAL6jlovDHVa6qEmXukNS49zoqZipObeaIUrOooYbBHrS1VyLdFPv1bWJUTL1fENU2wnroKJINHfByQ9yBv5tA/REJAokd9lAO5YsJ2viTbhFU0q1MhzCj0yZw15pMmRcfG1RJf0Z6WOOl20xRtmKX1lPPOCXEYS9xKfOwyVyTOUN+Tqglb+yfBCObdyn9sMmj2sDK9moo5RP6vvv3X/BQ3y7gk7XBwTWe07md8pRU/WLlUcMgPWde9iqyp4ku6OMhTm3zRbSLjSlqnq0VLOA==,iv:YcG8D0qsoZKIVl3V6VAXWB3dc5hUys1DaB4vA4+Culs=,tag:NM3uWj6ZAylUSbT+BDTCtg==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:YuZwnwCCg0YDB9MOqUL1okE+r2iDD/cSBibrGSLcFcw=,tag:7ZJXylzMU6oTnH8Knz8XFw==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    certSANs: ["127.0.0.1", "10.30.0.40"]
    disablePodSecurityPolicy: true
    admissionControl:
      - name: PodSecurity
        configuration:
          apiVersion: pod-security.admission.config.k8s.io/v1alpha1
          defaults:
            audit: restricted
            audit-version: latest
            enforce: baseline
            enforce-version: latest
            warn: restricted
            warn-version: latest
          exemptions:
            namespaces:
              - kube-system
            runtimeClasses: []
            usernames: []
          kind: PodSecurityConfiguration
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - schedulerName: default-scheduler
          plugins:
            score:
              disabled:
                - name: ImageLocality
          pluginConfig:
            - name: PodTopologySpread
              args:
                defaultingType: List
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: true
      service: {}
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:+eZF+86euAAPkHZNJjVOpygYY3jiKCxT3v8nlIXy6mNb2koksNmFk2yA0MsvRyOAHtDHPb0AFnsIxugSiaoyRa3a7HClwQn4RoDZkoxPX6Vd1A/BXcN0kAsI7JKmIBKbc0pbZqr/Ms+eouYYIBOKm077ZOpU+o7xcY5No1f64dsP/idLyso0BQESmhBBiLqXEMHm8vIBO89vQvvEEyjPUkq54oqe0XWgKVIEv3rAT8gNiNYoBuDqR81zngtf3iF7PPv4fKlMbStDQ/Vpv4UUXKCqES16Lo1e6A+lYWOzR9tCAIJ4MYRrg4FczMftmcDanhoUTioWmIfnTV89+38o05V8YYq/R65ixGaNdv/WzsrdV/5wqBTaxfaKUCmFscFWVbL1jKXRbocb0uue7uSFuUw9hUOAb5duprpUdrItoBz1IGqxZpM1bdx7w9InwyxwI7OmeteWMy6LE+mTjQ0iDG8e2ZoTetRrK0gtyOntJm1x5iI1NV5mFUHV40oSrqIgoyzWGk+xRZFu7cakBIaG2cDPWDWD8QKBx6kRLsZAwzaVZfgGns7SItWJhEJ2fSu4Fyg5uzF7j3QUFdoAaj9OUBj1WAXfOqAgLknO6BN5dEvxl7c+1QBH7tV6Aq61NDY2m2Zj2rJZJiGNIWhQ9sB/oSYYa3Ar27ODMB6wHYkvbvpElcyvlAN6urMPXMz4VIYTysaCRuaa7jd01ypoBwRQOz1G++AXEk8i0dponCCEHHPx16VU1hS6NuIEAuYPz/eAt1QJtgTrmcRchHSWg0kO0NvEHEi/OxIVEUTKPA93FoSDHegQVI6l2NCJ/PGfSFWVk8Sh4lsOgwUMQKX89MHYbmO/UpUE5V+kFAnf0Zjs7lgvoSo5ZpuPD8D7YYXqqiMniF0dP0XaWapAnwWWOJJ8qEjlq4NRwfWLUk6CYty9wlEyLqRvXWfH2jNDfVU3h54uzXAK/tU/sSeDq7lFXDDjOvLxPIMlNis0NR/jQP+Uoh8aY5PX9aNFh5LbJ20g82I7,iv:0GBwvS+UfI8BylEDakUGtFnb7GOmSgjWdbxOZeg+7SM=,tag:k433Pd7F2t9JNRXIYrKTCQ==,type:str]
      key: ENC[AES256_GCM,data:NAuFKlSb8SDLWr+qeO+ZMHeDvJ80DZeer1Q1jAv5ycbUvTkdzgQGHqW8XI7Be04FMTzH7e4WL5VEOUkz1x2oheSQgtOOMbdEOLN5r91BHUmve9EBx5cFDC/WZdaQ548njZfqcrkpaCvkodF8ArM+Nup16g02pWlC9TL0yoIjtrXW9C3kqTH0mJatx88G2E+r89RQnoYQ3EPkv2yjGGgBNziSBk7BUtG4jcx9CU91XpWMI8lWUuE8KE3fbtycwDT5Qge7/rN89t0kHkxICjjFl4xfc2VaYpmMKehYFlUMfYa2C6olV4SGMh+tZtek6Gz9f5H7eOfycYRbxCdPbYB1jDvOcfyzWm7dH/2cnkvMCUT4MhiufCmWW+9l61lizx+Ufv03TQSHaD5mLJI7C1RHNg==,iv:DI2kx9FhbHBFe2uUovLcb9ZpoZpw4B93eYN8VsYCgOc=,tag:2qSVMkRkz1Iqd6xHesKrig==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets: ["10.30.0.0/24"]
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1lz2u75apdq73zpxp039khxngs59jcca5ek8apc8c02eceg25asrq55u5dc
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSB4VnhVVWJsTGVFRkVyQ2xT
        OERmVWVDTFJUR2NwS01WWXNkbEtTeVdLNmpzCnl1dWs3dXQ5ZjkwNlJ0c2l1TG9x
        L2E3UnZQS0p6T2o0c2dnNm5nN1dZNlkKLS0tIGo5SGd3V2NaQk9SQlNZMFJ5ZnhR
        MzZnVnVzMU14ZE5ZZDE3c1ltWllmeTQKqFiqz/pMZJPb/gi53UyE7QIFJ0cDAyDL
        ItztU+E/BI19kQec4RVCDR8qXylqzqeNXgKba1TriYBwFQ/UNXQRVw==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-01-27T05:25:10Z"
  mac: ENC[AES256_GCM,data:Oj39ZLL6q8TGlDtBhk+dtrWpLSjYE05m5JrXA9x7EJPhgK207woe96uOF8AGA/hDiYkBE33jfOPaGoLu7OEW49nKvJRNqy6tEqoQL0bdBYs7UjeRyOOIwRaLuZNDgIhz2ngYOON9ZLYC6qauSz1gOGYVUqzelraqGlFtFFb9Gmc=,iv:UEEqj1iB1B434r2kyITgPQv816khrpYmx1/g1fb3jKs=,tag:cK1gIiLXpBcpwYHZEE7Wgg==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  mac_only_encrypted: true
  version: 3.9.3
